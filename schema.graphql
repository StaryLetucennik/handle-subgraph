type CollateralToken @entity {
    id: ID!
    name: String!
    symbol: String!
    mintCollateralRatio: BigInt!
    liquidationFee: BigInt!
    totalBalance: BigInt!
    isValid: Boolean!
}

type fxToken @entity {
    id: ID!
    name: String!
    symbol: String!
    rewardRatio: BigInt!
    isValid: Boolean!
}

type Vault @entity {
    id: ID!
    account: String!
    fxToken: String!
    debt: BigInt!
    collateralAsEther: BigInt!
    collateralRatio: BigInt!
    collateralTokens: [VaultCollateral!]! @derivedFrom(field: "vault")
    collateralAddresses: [String!]!
    minimumRatio: BigInt!
    isRedeemable: Boolean!
    isLiquidatable: Boolean!
}

type VaultCollateral @entity {
    id: ID!
    vault: Vault!
    address: String!
    amount: BigInt!
}

type fxKeeperPool @entity {
    id: ID!
    fxToken: String!
    totalDeposits: BigInt!
    depositorCount: BigInt!
    liquidationsExecuted: BigInt!
    collateralTokens: [fxKeeperPoolCollateral!]! @derivedFrom(field: "pool")
    collateralAddresses: [String!]!
}

type fxKeeperPoolCollateral @entity {
    id: ID!
    pool: fxKeeperPool!
    address: String!
    amount: BigInt!
}
